(()=>{"use strict";const t=document.querySelector(".cards"),n=document.querySelector(".form-select"),e=document.querySelector(".alert");let s=[],a=[];const l=n=>{n&&(t.innerHTML="",n.forEach((n=>{t.insertAdjacentHTML("afterbegin",`\n            <div class="card"   >\n                <img src="../db/${n.photo}" class="card-img-top" alt="${n.name}">\n                <div class="card-body">\n                    <h5 class="card-title card-img-overlay text-white">${n.name}</h5>\n                    <p class="card-text">\n                    <span class="badge bg-warning text-dark rounded-pill">birth day:</span>\n                    ${n.birthDay?new Date(n.birthDay.toString()).getFullYear():"unknown"}\n                    </p>\n                    <p class="card-text">\n                    <span class="badge bg-warning text-dark rounded-pill">death day:</span>\n                    ${n.deathDay&&"alive"!==n.status?new Date(n.deathDay.toString()).getFullYear():"-"}\n                    </p>\n                    <ul class="list-group list-group-flush">\n                        <li class="list-group-item">\n                            <span class="font-weight-bold">species:</span>\n                            ${n.species}\n                        </li>\n                        <li class="list-group-item">\n                            <span class="font-weight-bold">gender:</span>\n                            ${n.gender}\n                        </li>\n                        <li class="list-group-item">\n                            <span class="font-weight-bold">status:</span>\n                            ${n.status}\n                        </li>\n                        <li class="list-group-item">\n                            <span class="font-weight-bold">actor:</span>\n                            ${n.actors}\n                        </li>\n                        <li class="list-group-item">\n                            <span class="font-weight-bold">movies:</span>\n                            <small class="text-muted">${n.movies?n.movies.join(", "):""}</small>\n                        </li>\n\n                    </ul>\n                </div>\n            </div>`)})))};n.addEventListener("change",(t=>{const n=t.target.value;let e=s.filter((t=>{if(t.movies&&t.movies.includes(n))return t}));l(e)})),(async()=>await fetch("./db/dbHeroes.json").then((t=>t.json())))().then((t=>(s=t,t))).then((()=>(s.forEach((t=>{t.movies&&t.movies.forEach((t=>{a.includes(t)||a.push(t.trim())}))})),void a.sort().forEach((t=>{const e=document.createElement("option");e.value=t,e.textContent=t,n.append(e)}))))).then((()=>l(s))).catch((t=>{e.textContent="Ошибка запроса...",e.classList.remove("d-none")}))})();